(window.webpackJsonp=window.webpackJsonp||[]).push([[8,35,39],{1012:function(e,t,n){"use strict";n(959)},1013:function(e,t,n){var r=n(13)(!1);r.push([e.i,".order-tracking .cont[data-v-3508ebc3]{background-color:#fafafa}.order-tracking .cont .pres[data-v-3508ebc3]{font-size:14px}.order-tracking .cont>div[data-v-3508ebc3]{border-bottom:1px solid rgba(0,0,0,.12)}.order-tracking .cont a[data-v-3508ebc3]{text-decoration:none}.order-tracking .cont .estimated[data-v-3508ebc3]{font-size:24px;line-height:28px}.order-tracking .cont .livreuse[data-v-3508ebc3]{width:270px}.order-tracking .cont .livreuse.small[data-v-3508ebc3]{height:120px;width:auto}.order-tracking .v-expansion-panels[data-v-3508ebc3]{border-radius:4px;border:1px solid rgba(0,0,0,.12)}.order-tracking .v-expansion-panel-header[data-v-3508ebc3]{font-size:1.6rem;background-color:#eee}",""]),e.exports=r},1045:function(e,t,n){"use strict";n.r(t);n(31);var r=n(6),o=n(12),l=n(9),c=n(8),d=n(4),f=n(5),m=(n(11),n(92),n(37),n(61),n(60),n(36),n(230),n(2)),v=n(651),x=n(138),h=n(971);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},C=function(e){Object(l.a)(n,e);var t=_(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).btnLoad=!1,e.tracking=!1,e.order=null,e.cmd={idCommand:"",idUser:""},e.oldIdCommand={idCommand:"",idUser:""},e.snack={state:!1,color:"red",msg:""},e}return Object(o.a)(n,[{key:"disableBtn",get:function(){var e=this.oldIdCommand,t=this.cmd;return JSON.stringify(e)===JSON.stringify(t)||""===this.cmd.idCommand}},{key:"estimeFormatDate",get:function(){return null===this.order?"":new Date(this.order.DeliveryInfo.PlanedDate.split("/").reverse().join("-")).toLocaleString("fr",{weekday:"long",month:"long",day:"2-digit",year:"numeric"})}},{key:"duDate",get:function(){return null===this.order?"":new Date(this.order.Date.split("/").reverse().join("-")).toLocaleString("fr-fr",{month:"long",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}},{key:"ilYa",get:function(){if(null===this.order)return"";var e=new Date(this.order.LastUpdate);return this.transform(e)}},{key:"status",get:function(){return this.order.Statuses.map((function(e){var t={text:e.Text};return e.Current&&(t.current=e.Current),e.Disabled&&(t.disabled=e.Disabled),t}))}},{key:"fullName",get:function(){return null===this.order?"":this.order.ContactInfo.FullName}},{key:"phoneNumber",get:function(){return null===this.order?"":this.order.ContactInfo.PhoneNumber}},{key:"email",get:function(){var e;return null!==this.order||(null===(e=this.order)||void 0===e?void 0:e.ContactInfo)?this.order.ContactInfo.Email:""}},{key:"track",value:function(){var e,t,n=this;window.navigator.onLine?this.disableBtn?null===(t=null===(e=this.$refs)||void 0===e?void 0:e.required)||void 0===t||t.classList.add("required"):(this.btnLoad=!0,this.snack.state=!1,this.order=null,this.$axios.post("".concat(x.c,"/track"),{Number:this.cmd.idCommand,Email:this.cmd.idUser}).then((function(e){if(200!==e.status)return n.snack.msg=e.Message,void(n.snack.state=!0);n.order=e.data,n.tracking=!0,n.oldIdCommand.idCommand=n.cmd.idCommand,n.oldIdCommand.idUser=n.cmd.idUser})).catch((function(e){n.snack.msg=e.response&&e.response.data&&e.response.data.Message?e.response.data.Message:"probleme au niveau serveur veuillez reessayer plus tard :\\ !",n.snack.state=!0})).then((function(){n.btnLoad=!1}))):(this.snack.msg="Veillez verifier votre connexion internet !",this.snack.state=!0,this.btnLoad=!1)}},{key:"transform",value:function(e){if(e){var t=Math.floor((+new Date-+new Date(e))/1e3);if(t<29)return"Just now";var n,r,o={"année":31536e3,mois:2592e3,semaine:604800,jour:86400,heure:3600,minute:60,seconde:1};for(var i in o)if({}.hasOwnProperty.call(o,i)&&(n=Math.floor(t/o[i]))>0){if(1===n){r="Il y'a ".concat(n," ").concat(i);break}r="Il y'a ".concat(n," ").concat(i.endsWith("s")?i:i+"s");break}return r}return e}},{key:"formatDate",value:function(e){return e.toLocaleString("fr",{weekday:"long",month:"long",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}}]),n}(m.Vue),k=C=y([Object(m.Component)({name:"OrderTracking",components:{TimeLine:h.default,BlockWithToolBarAndFooter:v.default}})],C),w=(n(1012),n(23)),j=n(28),O=n.n(j),D=n(1048),R=n(584),I=n(587),P=n(1016),L=n(1017),V=n(1018),B=n(1019),M=n(866),z=n(126),S=n(951),component=Object(w.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"order-tracking d-flex flex-column w-100"},[n("block-with-tool-bar-and-footer",{attrs:{title:"Consulter l'evolution d'une commande",icon:"access_time"},scopedSlots:e._u([{key:"main-content",fn:function(){return[n("div",{staticClass:"cont d-flex flex-column"},[n("v-form",{staticClass:"d-flex flex-sm-row flex-column align-sm-center justify-sm-space-between pa-sm-8 pa-4",on:{submit:function(t){return t.preventDefault(),e.track.apply(null,arguments)}}},[n("v-text-field",{ref:"required",staticClass:"mr-sm-4 mb-sm-0 mb-4",attrs:{label:"Numéro de la commande",outlined:"","hide-details":"",dense:"",disabled:e.btnLoad,loading:e.btnLoad},model:{value:e.cmd.idCommand,callback:function(t){e.$set(e.cmd,"idCommand",t)},expression:"cmd.idCommand"}}),e._v(" "),n("v-text-field",{staticClass:"mr-sm-4 mb-sm-0 mb-4",attrs:{label:"Email ou téléphone",outlined:"","hide-details":"",dense:"",disabled:e.btnLoad,loading:e.btnLoad},model:{value:e.cmd.idUser,callback:function(t){e.$set(e.cmd,"idUser",t)},expression:"cmd.idUser"}}),e._v(" "),n("v-btn",{attrs:{depressed:"",disabled:e.disableBtn,loading:e.btnLoad,color:"accent",type:"submit"}},[n("span",{staticClass:"mr-4"},[e._v("Tracker")]),e._v(" "),e.disableBtn?e._e():n("v-icon",[e._v("arrow_forward")])],1)],1),e._v(" "),e.tracking&&null!==e.order?n("div",{staticClass:"d-flex flex-column bg-white"},[n("div",{staticClass:"d-flex flex-column flex-sm-row align-sm-end pres justify-sm-space-between pa-4"},[n("div",{staticClass:"d-flex flex-column flex-sm-row align-center align-sm-end"},[n("img",{staticClass:"livreuse small mb-8 mb-sm-0",attrs:{src:"/icons/livreuse.svg",alt:"",srcset:""}}),e._v(" "),n("div",{staticClass:"d-flex flex-column ml-sm-4"},[n("span",{staticClass:"mb-4 mb-sm-1 estimated"},["Invalid Date"!==e.estimeFormatDate?[e._v("\n                    Livraison estimée pour le "+e._s(e.estimeFormatDate)+"\n                  ")]:[e._v("\n                    Date de livraison non estimée\n                  ")]],2),e._v(" "),n("span",{staticClass:"mb-1"},[e._v("Commande N° "+e._s(e.order.Number))]),e._v(" "),n("a",{staticClass:"accent--text",attrs:{href:""}},[e._v("Renvoyer la facture\n                  "),n("v-icon",{attrs:{color:"accent"}},[e._v("keyboard_arrow_right")])],1)])]),e._v(" "),n("div",{staticClass:"d-flex flex-column align-sm-right text-right mt-4 mt-sm-0"},[n("span",[e._v("Du "+e._s(e.duDate))]),e._v(" "),n("span",[e._v("dernière mise à jour "+e._s(e.ilYa))])])]),e._v(" "),n("div",{staticClass:"pa-4 w-100"},[n("time-line",{attrs:{items:e.status}})],1),e._v(" "),n("v-divider"),e._v(" "),n("div",{staticClass:"pa-4 flex-column d-flex justify-sm-space-between flex-sm-row"},[n("div",{staticClass:"d-flex align-start"},[n("v-icon",{staticClass:"mr-4"},[e._v("contacts")]),e._v(" "),n("div",{staticClass:"d-flex flex-column mb-4 mb-sm-0"},[n("span",{staticClass:"mb-2"},[e._v("Information de contact")]),e._v(" "),n("span",{staticClass:"mb-2"},[e._v("M. "+e._s(e.fullName))]),e._v(" "),n("span",{staticClass:"mb-2"},[e._v(e._s(e.phoneNumber))]),e._v(" "),n("span",{staticClass:"mb-2"},[e._v(e._s(e.email))])])],1),e._v(" "),n("div",{staticClass:"d-flex align-start mb-4 mb-sm-0"},[n("v-icon",{staticClass:"mr-4"},[e._v("local_mall")]),e._v(" "),n("div",{staticClass:"d-flex flex-column"},[n("span",{staticClass:"mb-2"},[e._v("Details de livraison")]),e._v(" "),e.order&&e.order.DeliveryInfo.Mode?n("span",{staticClass:"mb-2"},[e._v(e._s(e.order.DeliveryInfo.Mode))]):e._e(),e._v(" "),e.order&&e.order.DeliveryInfo.Address?n("span",{staticClass:"mb-2"},[e._v(e._s(e.order.DeliveryInfo.Address))]):e._e(),e._v(" "),e.order&&e.order.DeliveryInfo.AddressLine?n("span",[e._v(e._s(e.order.DeliveryInfo.AddressLine))]):e._e()])],1),e._v(" "),n("div",{staticClass:"d-flex align-start mb-4 mb-sm-0"},[n("v-icon",{staticClass:"mr-4"},[e._v("local_mall")]),e._v(" "),n("div",{staticClass:"d-flex flex-column"},[n("span",{staticClass:"mb-2"},[e._v("Informations supplementaire")]),e._v(" "),n("span",{staticClass:"mb-2"},[e._v("Soumis à garantie")]),e._v(" "),e.order&&e.order.AdditionalInfos.Voucher?n("span",[e._v("Coupon utlisé: "),n("strong",[e._v(e._s(e.order.AdditionalInfos.Voucher))])]):e._e()])],1)]),e._v(" "),n("v-divider"),e._v(" "),n("div",{staticClass:"pa-4 w-100"},[n("v-expansion-panels",{staticClass:"w-100",attrs:{flat:"",accordion:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[n("strong",[e._v("Détail du suivi :")])]),e._v(" "),n("v-expansion-panel-content",[e.order?n("div",{staticClass:"d-flex flex-column pt-4"},e._l(e.order.StatusesChanges,(function(t,r){return n("div",{key:r,staticClass:"d-flex flex-column flex-sm-row mb-4"},[n("span",{staticClass:"mr-sm-8"},[e._v(e._s(e.formatDate(new Date(t.Date))))]),e._v(" "),n("span",[n("v-icon",[e._v("keyboard_arrow_right")]),e._v(" "+e._s(t.Status)+"\n                      ")],1)])})),0):e._e()])],1)],1)],1)],1):n("div",{staticClass:"d-flex flex-column bg-white w-100 align-center pa-2"},[n("img",{staticClass:"livreuse",attrs:{src:"/icons/livreuse.svg",alt:"",srcset:""}}),e._v(" "),n("i",{staticClass:"mt-4"},[e._v("\n            Entrez un numéréo de commande valide et votre contact si vous\n            souhaitez plus de détails\n          ")]),e._v(" "),e.snack.state?n("v-alert",{staticClass:"mt-2",attrs:{dense:"",border:"left",type:"error",outlined:""}},[e._v("\n            "+e._s(e.snack.msg)+"\n          ")]):e._e()],1)],1)]},proxy:!0}])})],1)}),[],!1,null,"3508ebc3",null);t.default=component.exports;O()(component,{VAlert:D.a,VBtn:R.a,VDivider:I.a,VExpansionPanel:P.a,VExpansionPanelContent:L.a,VExpansionPanelHeader:V.a,VExpansionPanels:B.a,VForm:M.a,VIcon:z.a,VTextField:S.a})},620:function(e,t,n){var content=n(654);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(14).default)("39ca66f6",content,!0,{sourceMap:!1})},651:function(e,t,n){"use strict";n.r(t);n(31);var r=n(6),o=n(9),l=n(8),c=n(4),d=n(5),f=(n(11),n(2));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var v=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},x=function(e){Object(o.a)(n,e);var t=m(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(f.Vue);v([Object(f.Prop)({type:String,default:""})],x.prototype,"link",void 0),v([Object(f.Prop)({type:String,default:!0})],x.prototype,"title",void 0),v([Object(f.Prop)({type:String,required:!0})],x.prototype,"icon",void 0),v([Object(f.Prop)({type:Boolean,default:!0})],x.prototype,"isVIcon",void 0),v([Object(f.Prop)({type:Boolean,default:!1})],x.prototype,"hideFooter",void 0);var h=x=v([Object(f.Component)({name:"BlockWithToolBarAndFooter"})],x),_=(n(653),n(23)),y=n(28),C=n.n(y),k=n(126),component=Object(_.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block d-flex flex-column w-100"},[n("div",{staticClass:"header pa-4 d-flex align-center justify-space-between"},[""!==e.link?n("span",{staticClass:"d-flex align-center ellipsis"},[e.isVIcon?n("v-icon",{staticClass:"mr-4",attrs:{color:"primary"}},[e._v(e._s(e.icon))]):n("img",{staticClass:"mr-4",attrs:{src:e.icon,alt:"",srcset:""}}),e._v(" "),n("span",{staticClass:"text-accent ellipsis"},[e._v(e._s(e.title))])],1):n("nuxt-link",{staticClass:"d-flex align-center ellipsis",attrs:{to:e.link}},[e.isVIcon?n("v-icon",{staticClass:"mr-4",attrs:{color:"primary"}},[e._v(e._s(e.icon))]):n("img",{staticClass:"mr-4",attrs:{src:e.icon,alt:"",srcset:""}}),e._v(" "),n("span",{staticClass:"text-accent ellipsis"},[e._v(e._s(e.title))])],1),e._v(" "),e._t("actions")],2),e._v(" "),n("div",{staticClass:"flex-gorw-1 content flex-shrink-1",class:{"border-rad":e.hideFooter}},[e._t("main-content")],2),e._v(" "),e.hideFooter?e._e():n("div",{staticClass:"footer"},[e._t("footer")],2)])}),[],!1,null,"69141c82",null);t.default=component.exports;C()(component,{VIcon:k.a})},653:function(e,t,n){"use strict";n(620)},654:function(e,t,n){var r=n(13)(!1);r.push([e.i,".block[data-v-69141c82]{border-radius:8px;border:1px solid rgba(0,0,0,.12)}.block .content[data-v-69141c82]{background-color:#fff;border-bottom:1px solid rgba(0,0,0,.12);font-size:1.6rem}.block .content.border-rad[data-v-69141c82]{border-radius:0 0 8px 8px}.block .header[data-v-69141c82]{border-bottom:1px solid rgba(0,0,0,.12);border-radius:8px 8px 0 0;min-height:56px;font-size:1.6rem;background-color:#fff;font-weight:700}.block .footer[data-v-69141c82]{min-height:64px;border-radius:0 0 8px 8px;background-color:#fff}@media(max-width:480px){.block[data-v-69141c82]{margin-bottom:12px}}",""]),e.exports=r},804:function(e,t,n){var content=n(899);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(14).default)("fa593d38",content,!0,{sourceMap:!1})},898:function(e,t,n){"use strict";n(804)},899:function(e,t,n){var r=n(13)(!1);r.push([e.i,'.time-line[data-v-9f2ab92e]{position:relative}@media(max-width:600px){.time-line .time-line.flex-column .time-point[data-v-9f2ab92e]:after{width:2px;height:100%;top:0}.time-line .time-line.flex-column .time-point[data-v-9f2ab92e]:before{margin-bottom:0}.time-line .time-line.flex-column .time-point[data-v-9f2ab92e]:first-child{align-items:center!important}.time-line .time-line.flex-column .time-point[data-v-9f2ab92e]:last-child{align-items:center!important;flex-direction:column-reverse!important}.time-line .time-line.flex-column .time-point:nth-child(2n) span[data-v-9f2ab92e]{text-align:left!important;margin-left:24px}.time-line .time-line.flex-column .time-point:nth-child(odd) span[data-v-9f2ab92e]{margin-right:24px;text-align:right!important}.time-line .time-line.flex-column .time-point.current[data-v-9f2ab92e]:after{background:linear-gradient(180deg,var(--v-primary-base),var(--v-primary-base) 50%,#aaa 0)}}.time-line .time-point[data-v-9f2ab92e]{position:relative;font-size:14px;color:#222;font-weight:500}.time-line .time-point span[data-v-9f2ab92e]{width:100%;z-index:3}.time-line .time-point[data-v-9f2ab92e]:before{display:flex;content:"";height:24px;width:24px;background-color:#fff;border:12px solid var(--v-primary-base);border-radius:100%;margin-bottom:12px;z-index:2}.time-line .time-point[data-v-9f2ab92e]:after{content:"";display:flex;position:absolute;top:12px;z-index:1;width:100%;height:2px;background-color:var(--v-primary-base)}.time-line .time-point[data-v-9f2ab92e]:first-child{align-items:flex-start!important}.time-line .time-point[data-v-9f2ab92e]:last-child{align-items:flex-end!important}.time-line .time-point.current[data-v-9f2ab92e]:before{border-width:4px}.time-line .time-point.current[data-v-9f2ab92e]:after{background:linear-gradient(90deg,var(--v-primary-base),var(--v-primary-base) 50%,#aaa 0)}.time-line .time-point.disabled[data-v-9f2ab92e]:before{border-color:#aaa}.time-line .time-point.disabled[data-v-9f2ab92e]:after{background-color:#aaa}',""]),e.exports=r},959:function(e,t,n){var content=n(1013);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(14).default)("152af6f9",content,!0,{sourceMap:!1})},971:function(e,t,n){"use strict";n.r(t);n(31);var r=n(6),o=n(9),l=n(8),c=n(4),d=n(5),f=(n(11),n(2));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var v=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},x=function(e){Object(o.a)(n,e);var t=m(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(f.Vue);v([Object(f.Prop)({type:Array,required:!0})],x.prototype,"items",void 0);var h=x=v([Object(f.Component)({name:"TimeLine"})],x),_=(n(898),n(23)),component=Object(_.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-100"},[n("div",{staticClass:"time-line w-100 d-flex flex-column flex-sm-row"},e._l(e.items,(function(t,i){return n("div",{key:i,staticClass:"time-point flex-grow-1 d-flex flex-column align-center",class:{disabled:t.disabled,current:t.current}},[n("span",{staticClass:"pa-2 text-center"},[e._v(e._s(t.text))])])})),0)])}),[],!1,null,"9f2ab92e",null);t.default=component.exports}}]);